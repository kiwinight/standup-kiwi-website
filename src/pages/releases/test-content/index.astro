---
import "@radix-ui/themes/styles.css";
import "../../../styles/global.css";
import BaseHead from "../../../components/base-head.astro";
import ContentHead from "../../../components/content-head.astro";
import {
  Box,
  Button,
  Container,
  Flex,
  Heading,
  Link,
  Section,
  Text,
  Theme,
} from "@radix-ui/themes";
import { NavBar } from "../../../components/nav-bar";
import { Footer } from "../../../components/footer";
import { ArrowLeftIcon, ExternalLinkIcon } from "@radix-ui/react-icons";

const title = "Test Release - Sample Content";
const description = "Testing /releases path with hardcoded release-like content";
const pubDate = new Date("2025-11-01");
const githubUrl = "https://github.com/kiwinight/standup-kiwi";

console.log(
  "[Test Releases test-content] Page rendered successfully at /releases/test-content"
);
---

<html lang="en">
  <head>
    <BaseHead />
    <ContentHead title={title} description={description} />
  </head>

  <body>
    <Theme className="relative" accentColor="gray" client:load>
      <NavBar client:load />
      <Box>
        <Section
          size={{
            initial: "3",
            sm: "4",
          }}
          pb={{
            initial: "24px",
            sm: "24px",
          }}
          className="relative"
        >
          <Container
            size={{
              sm: "2",
            }}
            px={{
              initial: "4",
            }}
          >
            <Flex direction="column" gap="6">
              <Flex direction="column" gap="4">
                <Flex>
                  <Button asChild variant="ghost" highContrast>
                    <a href="/releases">
                      <ArrowLeftIcon />
                      Back to releases
                    </a>
                  </Button>
                </Flex>
                <Heading
                  as="h1"
                  size={{
                    initial: "8",
                  }}
                >
                  {title}
                </Heading>

                <Text size="3" color="gray">
                  Released on {
                    pubDate.toLocaleDateString("en-US", {
                      month: "long",
                      day: "numeric",
                      year: "numeric",
                    })
                  }
                </Text>

                <Flex asChild align="center" gap="1">
                  <Link href={githubUrl} target="_blank">
                    See original
                    <ExternalLinkIcon />
                  </Link>
                </Flex>
              </Flex>
            </Flex>
          </Container>
        </Section>

        <Section
          size={{
            initial: "3",
            sm: "4",
          }}
          pt="0"
          className="relative"
        >
          <Container
            size={{
              sm: "2",
            }}
            px={{
              initial: "4",
            }}
          >
            <Flex
              direction="column"
              gap={{
                initial: "5",
                sm: "6",
              }}
            >
              <Box className="prose max-w-none">
                <p>
                  This is a hardcoded test page at <code
                    >/releases/test-content</code
                  > to diagnose AWS Amplify 404 issues with dynamic routes.
                </p>

                <h2>Features</h2>
                <ul>
                  <li>
                    <strong>Sample Feature One</strong><br />
                    This is a sample feature description with typical release note
                    formatting. It includes multiple sentences and demonstrates how
                    content would appear in a real release page.
                  </li>
                  <li>
                    <strong>Sample Feature Two</strong><br />
                    Another feature with detailed explanations about functionality
                    and user experience improvements.
                  </li>
                </ul>

                <h2>Improvements</h2>
                <ul>
                  <li>
                    <strong>Performance Enhancements</strong><br />
                    Various performance improvements and optimizations to make the
                    application faster and more responsive.
                  </li>
                </ul>

                <h2>Bugfixes</h2>
                <ul>
                  <li>
                    <strong>Fixed Critical Issue</strong><br />
                    Resolved a critical issue that was affecting user experience in
                    certain scenarios.
                  </li>
                </ul>

                <h2>Testing Purpose</h2>
                <p>This page helps diagnose the following scenarios:</p>
                <ul>
                  <li>
                    If this page works on AWS Amplify, it proves that static pages
                    under <code>/releases/*</code> work fine
                  </li>
                  <li>
                    If this works but <code>/releases/0.9.0</code> doesn't, it confirms
                    the issue is with dynamic route generation in <code
                      >getStaticPaths()</code
                    >
                  </li>
                  <li>
                    Compare behavior with <code>/releases/hello-world</code> which
                    also exists as a static page
                  </li>
                </ul>
              </Box>
            </Flex>
          </Container>
        </Section>
      </Box>
      <Footer client:load />
    </Theme>
  </body>
</html>

